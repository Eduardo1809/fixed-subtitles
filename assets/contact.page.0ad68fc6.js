import{_ as x}from"./Title.a6b8e054.js";import{d as w,r as b,u as y,h as k,o as i,c as d,a as p,b as o,e as t,t as a,i as g,v,n as C,j as c,w as S,k as V,F as j}from"./src/pages/_default.page.client.ts.a170ae55.js";const q={class:"flex flex-col text-center w-full mb-10"},B={class:"sm:text-3xl text-2xl font-medium title-font mb-4"},N={class:"px-2 lg:w-1/2 md:w-2/3 mx-auto leading-relaxed text-base"},U=["onSubmit"],z={class:"flex flex-wrap"},D={class:"p-2 w-full"},F=["placeholder","disabled"],M={class:"p-2 w-full"},T=["placeholder","disabled"],A={class:"p-2 w-full flex"},E=t("div",{class:"md:w-2/5"},null,-1),I=["disabled"],L={class:"w-full md:w-2/5 my-auto"},P={key:0},R={key:1},$={key:2},G={key:3},H={class:"p-2 w-full pt-8 mt-8 border-t border-gray-800 text-center"},J={class:"external-link",href:"https://github.com/qgustavor/fixed-subtitles"},W=w({setup(K){const u=b(""),r=b(""),e=b("idle");async function _(){if(e.value==="submitting"||e.value==="submitted")return;if(!r.value){e.value="missing-data";return}const n=new URLSearchParams;n.append("name",u.value||"Anonymous"),n.append("email","fixed-subtitles@qgustavor.local"),n.append("message",r.value),n.append("slug","contact-form"),e.value="submitting";const l=await fetch("https://us-central1-comments-api-888d3.cloudfunctions.net/comment/qgustavor/fixed-subtitles",{method:"post",body:n,headers:{"content-type":"application/x-www-form-urlencoded"}});e.value=l.ok?"submitted":"error"}const{t:s}=y();return(n,l)=>{const f=x,h=k("i18n-t");return i(),d(j,null,[p(f,{page:o(s)("contact.title")},null,8,["page"]),t("div",q,[t("h1",B,a(o(s)("contact.title")),1),t("p",N,a(o(s)("contact.headline")),1)]),t("form",{class:"lg:w-1/2 md:w-2/3 mx-auto",onSubmit:V(_,["prevent"])},[t("div",z,[t("div",D,[g(t("input",{class:"w-full dark:bg-gray-800 rounded border border-gray-700 dark:text-white focus:outline-none focus:border-indigo-500 text-base px-4 py-2",placeholder:o(s)("contact.name"),type:"text","onUpdate:modelValue":l[0]||(l[0]=m=>u.value=m),disabled:e.value==="submitting"||e.value==="submitted"},null,8,F),[[v,u.value]])]),t("div",M,[g(t("textarea",{class:"w-full dark:bg-gray-800 rounded border border-gray-700 dark:text-white focus:outline-none h-48 focus:border-indigo-500 text-base px-4 py-2 resize-none block",placeholder:o(s)("contact.message"),"onUpdate:modelValue":l[1]||(l[1]=m=>r.value=m),disabled:e.value==="submitting"||e.value==="submitted"},null,8,T),[[v,r.value]])]),t("div",A,[E,t("button",{class:C(["w-auto flex text-white border-0 py-2 px-8 focus:outline-none rounded text-lg text-center mx-5",[e.value==="idle"&&"bg-indigo-500 hover:bg-indigo-600",e.value==="submitted"&&"bg-green-500",e.value==="submitting"&&"bg-gray-500",e.value==="missing-data"&&"bg-red-500 hover:bg-red-600",e.value==="error"&&"bg-red-500 hover:bg-red-600"]]),disabled:e.value==="submitting"||e.value==="submitted"},a(o(s)("contact.submit")),11,I),t("div",L,[e.value==="missing-data"?(i(),d("div",P,a(o(s)("contact.messages.missing-data")),1)):c("",!0),e.value==="submitting"?(i(),d("div",R,a(o(s)("contact.messages.submitting")),1)):c("",!0),e.value==="submitted"?(i(),d("div",$,a(o(s)("contact.messages.submitted")),1)):c("",!0),e.value==="error"?(i(),d("div",G,a(o(s)("contact.messages.error")),1)):c("",!0)])]),t("div",H,[p(h,{keypath:"contact.extra",scope:"global"},{project:S(()=>[t("a",J,a(o(s)("contact.extra-project")),1)]),_:1})])])],40,U)],64)}}});export{W as default};
