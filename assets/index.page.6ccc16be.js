import{d as H,u as L,o as s,c as n,e as t,k as B,t as o,b as e,F as y,l as C,f as x,r as M,m as q,p as F,q as S,s as G,h as O,a as p,j as h,w as z,g as R,_ as U,x as J,n as K}from"./src/pages/_default.page.client.ts.39d4db0d.js";import{_ as Q}from"./document-unknown.c151e163.js";import{_ as W}from"./Title.b7181433.js";import{s as X}from"./data-handler.bc903c9c.js";const Z={class:"fixed z-10 inset-0 overflow-y-auto"},tt={class:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20"},et={class:"fixed inset-0"},ot={class:"inline-block align-bottom bg-white dark:bg-gray-800 rounded-lg overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",role:"dialog","aria-modal":"true","aria-labelledby":"modal-headline"},st={class:"px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},nt={class:"sm:flex sm:items-start"},lt={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left"},at={class:"text-lg leading-6 font-medium",id:"modal-headline"},it={class:"mt-2"},dt={class:"text-sm leading-5"},ct={class:"list-disc list-inside pt-2 text-left"},rt={class:"text-sm leading-5"},mt=["href"],ut={class:"bg-gray-50 dark:bg-gray-800 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},_t={class:"mt-3 flex w-full rounded-md shadow-sm sm:mt-0 sm:w-auto"},ht=H({props:["commits"],emits:["close"],setup(m,{emit:b}){const{t:l,d:v}=L();return(a,u)=>(s(),n("div",Z,[t("div",tt,[t("div",et,[t("div",{class:"absolute inset-0 bg-gray-500 dark:bg-gray-900 opacity-75",onClick:u[0]||(u[0]=B(c=>a.$emit("close"),["self"]))})]),t("div",ot,[t("div",st,[t("div",nt,[t("div",lt,[t("h3",at,o(e(l)("commit-modal.title",m.commits.length)),1),t("div",it,[t("p",dt,o(e(l)("commit-modal.explainer",m.commits.length)),1),t("ul",ct,[(s(!0),n(y,null,C(m.commits,c=>(s(),n("li",rt,[t("a",{class:"external-link",href:"https://github.com/qgustavor/fixed-subtitles/commit/"+c[0],target:"_blank"},o(c[0]),9,mt),x(" ("+o(e(l)("commit-modal.date",{date:e(v)(new Date(c[1]*1e3))}))+") ",1)]))),256))])])])])]),t("div",ut,[t("span",_t,[t("button",{type:"button",class:"inline-flex justify-center w-full rounded-md border border-gray-300 px-4 py-2 bg-white text-base leading-6 font-medium text-gray-700 shadow-sm hover:text-gray-500 focus:outline-none focus:border-blue-300 focus:shadow-outline-blue transition ease-in-out duration-150 sm:text-sm sm:leading-5",onClick:u[1]||(u[1]=c=>a.$emit("close"))},o(e(l)("commit-modal.close")),1)])])])])]))}}),ft={class:"fixed z-10 inset-0 overflow-y-auto"},gt={class:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20"},pt={class:"fixed inset-0"},vt={class:"inline-block align-bottom bg-white dark:bg-gray-800 rounded-lg overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",role:"dialog","aria-modal":"true","aria-labelledby":"modal-headline"},xt={class:"px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},bt={class:"sm:flex sm:items-start"},wt={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left"},$t={class:"text-lg leading-6 font-medium",id:"modal-headline"},yt={key:0,class:"mt-2"},kt={class:"text-sm leading-5"},Ct={key:1,class:"mt-2"},Mt={class:"text-sm leading-5"},zt={class:"list-disc list-inside pt-2 text-left"},Ht={class:"text-sm leading-5"},Lt={class:"bg-gray-50 dark:bg-gray-800 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},Vt={class:"mt-3 flex w-full rounded-md shadow-sm sm:mt-0 sm:w-auto"},At=H({props:["files","folder"],emits:["close"],setup(m,{emit:b}){const l=m,v=M([]),a=M(new Set);async function u(f){f.map(r=>r.path);const{downloadRepoFiles:i,zipAndDownload:g}=await F(()=>import("./download-github.02b23d6c.js"),[]),{getFontsFromSubtitle:_}=await F(()=>import("./subtitle-fonts.fdca6eb6.js"),[]);for await(const r of i(f)){const k=_(r.data);for(const $ of k)a.value.add($);v.value.push(r)}g(v.value,l.folder)}q(()=>{u(l.files)});const{t:c}=L();function w(f){return f.reduce((i,g,_)=>i+c("download-modal.font-variant-"+g)+(_===f.length-2?c("download-modal.font-variant-and"):_!==f.length-1?c("download-modal.font-variant-comma"):""),"")}return(f,i)=>(s(),n("div",ft,[t("div",gt,[t("div",pt,[t("div",{class:"absolute inset-0 bg-gray-500 dark:bg-gray-900 opacity-75",onClick:i[0]||(i[0]=B(g=>f.$emit("close"),["self"]))})]),t("div",vt,[t("div",xt,[t("div",bt,[t("div",wt,[t("h3",$t,o(e(c)("download-modal.title",m.files.length)),1),v.value.length!==m.files.length?(s(),n("div",yt,[t("p",kt,o(e(c)("download-modal.in-progress")),1)])):(s(),n("div",Ct,[t("p",Mt,o(e(c)("download-modal.fonts",a.value.size)),1),t("ul",zt,[(s(!0),n(y,null,C(a.value,g=>(s(),n("li",Ht,o(g.name)+" ("+o(w(g.variants))+") ",1))),256))])]))])])]),t("div",Lt,[t("span",Vt,[t("button",{type:"button",class:"inline-flex justify-center w-full rounded-md border border-gray-300 px-4 py-2 bg-white text-base leading-6 font-medium text-gray-700 shadow-sm hover:text-gray-500 focus:outline-none focus:border-blue-300 focus:shadow-outline-blue transition ease-in-out duration-150 sm:text-sm sm:leading-5",onClick:i[1]||(i[1]=g=>f.$emit("close"))},o(v.value.length===m.files.length?e(c)("download-modal.close"):e(c)("download-modal.cancel")),1)])])])])]))}}),Ft={width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32"},Rt=t("path",{d:"M26 24v4H6v-4H4v4a2 2 0 0 0 2 2h20a2 2 0 0 0 2-2v-4z",fill:"currentColor"},null,-1),Bt=t("path",{d:"M26 14l-1.41-1.41L17 20.17V2h-2v18.17l-7.59-7.58L6 14l10 10l10-10z",fill:"currentColor"},null,-1),Dt=[Rt,Bt];function jt(m,b){return s(),n("svg",Ft,Dt)}var Et={name:"carbon-download",render:jt};const It={width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32"},Pt=t("path",{d:"M2 26h28v2H2z",fill:"currentColor"},null,-1),Tt=t("path",{d:"M25.4 9c.8-.8.8-2 0-2.8l-3.6-3.6c-.8-.8-2-.8-2.8 0l-15 15V24h6.4l15-15zm-5-5L24 7.6l-3 3L17.4 7l3-3zM6 22v-3.6l10-10l3.6 3.6l-10 10H6z",fill:"currentColor"},null,-1),Yt=[Pt,Tt];function Nt(m,b){return s(),n("svg",It,Yt)}var qt={name:"carbon-edit",render:Nt};const St={width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32"},Gt=t("path",{d:"M26 20h-6v-2h6z",fill:"currentColor"},null,-1),Ot=t("path",{d:"M30 28h-6v-2h6z",fill:"currentColor"},null,-1),Ut=t("path",{d:"M28 24h-6v-2h6z",fill:"currentColor"},null,-1),Jt=t("path",{d:"M17.003 20a4.895 4.895 0 0 0-2.404-4.173L22 3l-1.73-1l-7.577 13.126a5.699 5.699 0 0 0-5.243 1.503C3.706 20.24 3.996 28.682 4.01 29.04a1 1 0 0 0 1 .96h14.991a1 1 0 0 0 .6-1.8c-3.54-2.656-3.598-8.146-3.598-8.2zm-5.073-3.003A3.11 3.11 0 0 1 15.004 20c0 .038.002.208.017.469l-5.9-2.624a3.8 3.8 0 0 1 2.809-.848zM15.45 28A5.2 5.2 0 0 1 14 25h-2a6.5 6.5 0 0 0 .968 3h-2.223A16.617 16.617 0 0 1 10 24H8a17.342 17.342 0 0 0 .665 4H6c.031-1.836.29-5.892 1.803-8.553l7.533 3.35A13.025 13.025 0 0 0 17.596 28z",fill:"currentColor"},null,-1),Kt=[Gt,Ot,Ut,Jt];function Qt(m,b){return s(),n("svg",St,Kt)}var Wt={name:"carbon-clean",render:Qt};const Xt={width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32"},Zt=t("path",{d:"M6.76 6l.45.89L7.76 8H12v5H4V6h2.76m.62-2H3a1 1 0 0 0-1 1v9a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1H9l-.72-1.45a1 1 0 0 0-.9-.55z",fill:"currentColor"},null,-1),te=t("path",{d:"M22.76 6l.45.89l.55 1.11H28v5h-8V6h2.76m.62-2H19a1 1 0 0 0-1 1v9a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1h-4l-.72-1.45a1 1 0 0 0-.9-.55z",fill:"currentColor"},null,-1),ee=t("path",{d:"M6.76 19l.45.89l.55 1.11H12v5H4v-7h2.76m.62-2H3a1 1 0 0 0-1 1v9a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1v-7a1 1 0 0 0-1-1H9l-.72-1.45a1 1 0 0 0-.9-.55z",fill:"currentColor"},null,-1),oe=t("path",{d:"M22.76 19l.45.89l.55 1.11H28v5h-8v-7h2.76m.62-2H19a1 1 0 0 0-1 1v9a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1v-7a1 1 0 0 0-1-1h-4l-.72-1.45a1 1 0 0 0-.9-.55z",fill:"currentColor"},null,-1),se=[Zt,te,ee,oe];function ne(m,b){return s(),n("svg",Xt,se)}var le={name:"carbon-categories",render:ne};const ae={key:0,class:"dark:text-white text-center text-2xl py-20"},ie={class:"text-8xl mt-2"},de={key:1,class:"container px-6 mx-auto flex flex-col md:flex-row"},ce={class:"w-full md:w-1/3 lg:w-1/5 mr-6"},re={class:"flex md:flex-col"},me={class:"relative mb-3 w-2/5 md:w-full"},ue=t("div",{class:"aspect-ratio-9-14"},null,-1),_e=["src"],he={class:"w-full ml-3 md:ml-0 lg:text-lg"},fe={class:"leading-8 font-bold text-xl md:hidden"},ge=["href","onClick"],pe={class:"w-full"},ve={class:"pb-4 font-bold text-2xl lg:text-3xl hidden md:block"},xe={key:0},be=["onClick"],we={key:1},$e={key:2},ye={class:"pb-2 lg:text-lg"},ke=["href"],Ce={class:"external-link"},Me={class:"external-link"},ze={class:"external-link"},He=["innerHTML"],Le={class:"text-left w-full border-collapse"},Ve={class:"p-2 font-bold text-sm"},Ae={class:"p-2 font-bold text-sm text-center"},Fe={class:"p-2 font-bold text-sm text-right"},Re={class:"hover:bg-grey-lighter"},Be={class:"p-2"},De=["onClick"],je={class:"p-2 text-center"},Ee={class:"p-2 text-right"},Ne=H({props:["slug"],setup(m){const b=S(),l=G(()=>X.find(_=>_.slug===b.routeParams.id)),v=l.value&&l.value.groups.length===1?l.value.groups[0]:null,a=M(v),u=M(null);function c(_){const r=_?[_]:a.value.files,k=window.encodeURIComponent(l.value.folder)+"/"+window.encodeURIComponent(a.value.name)+"/";for(const $ of r)$.path=k+$.name;u.value=r}const w=M(null);function f(_){}const{t:i,d:g}=L();return(_,r)=>{const k=W,$=Q,D=O("i18n-t"),j=U,E=J,I=le,P=Wt,V=qt,T=Et,Y=At,N=ht;return s(),n(y,null,[p(k,{page:e(l)&&e(l).metadata.title},null,8,["page"]),e(l)?h("",!0):(s(),n("div",ae,[x(o(e(i)("not-found"))+" ",1),t("div",ie,[p($,{class:"iconify inline-block"})])])),e(l)?(s(),n("div",de,[t("div",ce,[t("div",re,[t("div",me,[ue,t("img",{class:"absolute left-0 top-0 w-full h-full object-cover",src:e(l).metadata.coverImage},null,8,_e)]),t("div",he,[t("h1",fe,o(e(l).metadata.title),1),t("ul",null,[t("li",null,[p(D,{keypath:"full-season",scope:"global"},{season:z(()=>[x(o(e(i)("seasons."+e(l).metadata.season)),1)]),seasonYear:z(()=>[x(o(e(l).metadata.seasonYear),1)]),_:1})]),t("li",null,o(e(i)("episodes",e(l).metadata.episodes)),1),t("li",null,o(e(i)("formats."+e(l).metadata.format)),1),(s(!0),n(y,null,C(e(l).metadata.externalLinks,d=>(s(),n("li",{key:d.url,class:"lg:text-md"},[t("a",{href:d.url,class:"external-link",onClick:A=>(d.url,void 0)},o(d.site),9,ge)]))),128)),t("li",null,[p(j,{to:"/contact",class:"external-link"},{default:z(()=>[x(o(e(i)("report-error")),1)]),_:1})])])])])]),t("div",pe,[t("h1",ve,o(e(l).metadata.title),1),e(l).groups.length>1?(s(),n("div",xe,[(s(!0),n(y,null,C(e(l).groups,d=>(s(),n("button",{key:d.name,class:K(["dark:text-white border-2 py-2 px-4 focus:outline-none rounded text-center mr-2 mb-2",[a.value&&a.value.name===d.name?"bg-indigo-200 border-indigo-300 dark:bg-indigo-500 dark:border-indigo-400":"bg-gray-100 hover:bg-gray-200 border-gray-300 dark:bg-gray-900 dark-hover:bg-gray-800 dark:border-gray-700"]]),onClick:A=>a.value=d},o(d.name),11,be))),128))])):h("",!0),a.value?h("",!0):(s(),n("div",we,o(e(i)("select-group")),1)),a.value?(s(),n("div",$e,[t("div",ye,[p(E,{class:"iconify group-stat-icon mr-1"}),x(" "+o(e(i)("languages."+a.value.metadata.language,"?"))+" ",1),p(I,{class:"iconify group-stat-icon mx-1"}),x(" "+o(e(i)("file-count",a.value.files.length))+" ",1),p(P,{class:"iconify group-stat-icon mx-1"}),x(" "+o(e(i)("changed-lines-count",a.value.changedLines))+" ",1),a.value.commits.length===1?(s(),n("a",{key:0,href:"https://github.com/qgustavor/fixed-subtitles/commit/"+a.value.commits[0][0],target:"_blank"},[p(V,{class:"iconify group-stat-icon mx-1"}),t("span",Ce,o(e(i)("commit-count",a.value.commits.length)),1)],8,ke)):h("",!0),a.value.commits.length>1?(s(),n("button",{key:1,onClick:r[0]||(r[0]=d=>w.value=a.value.commits)},[p(V,{class:"iconify group-stat-icon mx-1"}),t("span",Me,o(e(i)("commit-count",a.value.commits.length)),1)])):h("",!0),a.value.files.length>1?(s(),n("button",{key:2,onClick:r[1]||(r[1]=d=>c())},[p(T,{class:"iconify group-stat-icon mx-1"}),t("span",ze,o(e(i)("download-all")),1)])):h("",!0)]),a.value.metadata.content?(s(),n("div",{key:0,innerHTML:a.value.metadata.content,class:"group-info"},null,8,He)):h("",!0),t("table",Le,[t("thead",null,[t("tr",null,[t("th",Ve,o(e(i)("group-list.filename")),1),t("th",Ae,o(e(i)("group-list.modified")),1),t("th",Fe,o(e(i)("group-list.changedLines")),1)])]),t("tbody",null,[(s(!0),n(y,null,C(a.value.files,d=>(s(),n("tr",Re,[t("td",Be,[t("button",{onClick:A=>c(d),class:"external-link text-left"},o(d.name),9,De)]),t("td",je,o(e(g)(new Date(d.lastModified*1e3))),1),t("td",Ee,o(d.changedLines),1)]))),256))])])])):h("",!0)])])):h("",!0),u.value?(s(),R(Y,{key:2,files:u.value,folder:e(l).metadata.title,onClose:r[2]||(r[2]=d=>u.value=null)},null,8,["files","folder"])):h("",!0),w.value?(s(),R(N,{key:3,commits:w.value,onClose:r[3]||(r[3]=d=>w.value=null)},null,8,["commits"])):h("",!0)],64)}}});export{Ne as default};
