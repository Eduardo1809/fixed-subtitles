import{d as L,x as k,G as T,u as V,o as n,c as a,a as e,D as I,t as o,b as t,F as y,E as $,_ as j,k as P,y as Y,e as f,f as g,C as p,w as H,m as N,B as G}from"./vendor.734e7463.js";import{u as S,_ as O,a as U}from"./src/pages/_default.page.client.ts.c3dbfa31.js";import{_ as q}from"./document-unknown.4d45f8cb.js";import{_ as J}from"./Title.f874a183.js";import{s as K}from"./data-handler.c6731b8f.js";function Q(m){}const W={class:"fixed z-10 inset-0 overflow-y-auto"},X={class:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20"},Z={class:"fixed inset-0"},ee={class:"inline-block align-bottom bg-white dark:bg-gray-800 rounded-lg overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",role:"dialog","aria-modal":"true","aria-labelledby":"modal-headline"},te={class:"px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},oe={class:"sm:flex sm:items-start"},se={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left"},ne={class:"text-lg leading-6 font-medium",id:"modal-headline"},le={key:0,class:"mt-2"},ae={class:"text-sm leading-5"},ie={key:1,class:"mt-2"},de={class:"text-sm leading-5"},ce={class:"list-disc list-inside pt-2 text-left"},re={class:"text-sm leading-5"},ue={class:"bg-gray-50 dark:bg-gray-800 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},_e={class:"mt-3 flex w-full rounded-md shadow-sm sm:mt-0 sm:w-auto"},me=L({props:["files","folder"],emits:["close"],setup(m,{emit:w}){const l=m,v=k([]),i=k(new Set);async function x(s){Q({id:"download",parameters:{files:s.map(h=>h.path)}});const{downloadRepoFiles:_,zipAndDownload:c}=await j(()=>import("./download-github.2899ec3a.js"),[]),{getFontsFromSubtitle:r}=await j(()=>import("./subtitle-fonts.8a20a871.js"),[]);for await(const h of _(s)){const b=r(h.data);for(const M of b)i.value.add(M);v.value.push(h)}c(v.value,l.folder)}T(()=>{x(l.files)});const{t:u}=V();function C(s){return s.reduce((_,c,r)=>_+u("download-modal.font-variant-"+c)+(r===s.length-2?u("download-modal.font-variant-and"):r!==s.length-1?u("download-modal.font-variant-comma"):""),"")}return(s,_)=>(n(),a("div",W,[e("div",X,[e("div",Z,[e("div",{class:"absolute inset-0 bg-gray-500 dark:bg-gray-900 opacity-75",onClick:_[0]||(_[0]=I(c=>s.$emit("close"),["self"]))})]),e("div",ee,[e("div",te,[e("div",oe,[e("div",se,[e("h3",ne,o(t(u)("download-modal.title",m.files.length)),1),v.value.length!==m.files.length?(n(),a("div",le,[e("p",ae,o(t(u)("download-modal.in-progress")),1)])):(n(),a("div",ie,[e("p",de,o(t(u)("download-modal.fonts",i.value.size)),1),e("ul",ce,[(n(!0),a(y,null,$(i.value,c=>(n(),a("li",re,o(c.name)+" ("+o(C(c.variants))+") ",1))),256))])]))])])]),e("div",ue,[e("span",_e,[e("button",{type:"button",class:"inline-flex justify-center w-full rounded-md border border-gray-300 px-4 py-2 bg-white text-base leading-6 font-medium text-gray-700 shadow-sm hover:text-gray-500 focus:outline-none focus:border-blue-300 focus:shadow-outline-blue transition ease-in-out duration-150 sm:text-sm sm:leading-5",onClick:_[1]||(_[1]=c=>s.$emit("close"))},o(v.value.length===m.files.length?t(u)("download-modal.close"):t(u)("download-modal.cancel")),1)])])])])]))}}),he={width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32"},fe=e("path",{d:"M26 24v4H6v-4H4v4a2 2 0 0 0 2 2h20a2 2 0 0 0 2-2v-4z",fill:"currentColor"},null,-1),pe=e("path",{d:"M26 14l-1.41-1.41L17 20.17V2h-2v18.17l-7.59-7.58L6 14l10 10l10-10z",fill:"currentColor"},null,-1),ge=[fe,pe];function ve(m,w){return n(),a("svg",he,ge)}var xe={name:"carbon-download",render:ve};const be={width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32"},we=e("path",{d:"M26 20h-6v-2h6z",fill:"currentColor"},null,-1),ye=e("path",{d:"M30 28h-6v-2h6z",fill:"currentColor"},null,-1),ke=e("path",{d:"M28 24h-6v-2h6z",fill:"currentColor"},null,-1),$e=e("path",{d:"M17.003 20a4.895 4.895 0 0 0-2.404-4.173L22 3l-1.73-1l-7.577 13.126a5.699 5.699 0 0 0-5.243 1.503C3.706 20.24 3.996 28.682 4.01 29.04a1 1 0 0 0 1 .96h14.991a1 1 0 0 0 .6-1.8c-3.54-2.656-3.598-8.146-3.598-8.2zm-5.073-3.003A3.11 3.11 0 0 1 15.004 20c0 .038.002.208.017.469l-5.9-2.624a3.8 3.8 0 0 1 2.809-.848zM15.45 28A5.2 5.2 0 0 1 14 25h-2a6.5 6.5 0 0 0 .968 3h-2.223A16.617 16.617 0 0 1 10 24H8a17.342 17.342 0 0 0 .665 4H6c.031-1.836.29-5.892 1.803-8.553l7.533 3.35A13.025 13.025 0 0 0 17.596 28z",fill:"currentColor"},null,-1),Ce=[we,ye,ke,$e];function Me(m,w){return n(),a("svg",be,Ce)}var He={name:"carbon-clean",render:Me};const ze={width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32"},Le=e("path",{d:"M6.76 6l.45.89L7.76 8H12v5H4V6h2.76m.62-2H3a1 1 0 0 0-1 1v9a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1H9l-.72-1.45a1 1 0 0 0-.9-.55z",fill:"currentColor"},null,-1),Ve=e("path",{d:"M22.76 6l.45.89l.55 1.11H28v5h-8V6h2.76m.62-2H19a1 1 0 0 0-1 1v9a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1h-4l-.72-1.45a1 1 0 0 0-.9-.55z",fill:"currentColor"},null,-1),je=e("path",{d:"M6.76 19l.45.89l.55 1.11H12v5H4v-7h2.76m.62-2H3a1 1 0 0 0-1 1v9a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1v-7a1 1 0 0 0-1-1H9l-.72-1.45a1 1 0 0 0-.9-.55z",fill:"currentColor"},null,-1),Ae=e("path",{d:"M22.76 19l.45.89l.55 1.11H28v5h-8v-7h2.76m.62-2H19a1 1 0 0 0-1 1v9a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1v-7a1 1 0 0 0-1-1h-4l-.72-1.45a1 1 0 0 0-.9-.55z",fill:"currentColor"},null,-1),Fe=[Le,Ve,je,Ae];function Be(m,w){return n(),a("svg",ze,Fe)}var De={name:"carbon-categories",render:Be};const Re={key:0,class:"dark:text-white text-center text-2xl py-20"},Ee={class:"text-8xl mt-2"},Te={key:1,class:"container px-6 mx-auto flex flex-col md:flex-row"},Ie={class:"w-full md:w-1/3 lg:w-1/5 mr-6"},Pe={class:"flex md:flex-col"},Ye={class:"relative mb-3 w-2/5 md:w-full"},Ne=e("div",{class:"aspect-ratio-9-14"},null,-1),Ge=["src"],Se={class:"w-full ml-3 md:ml-0 lg:text-lg"},Oe={class:"leading-8 font-bold text-xl md:hidden"},Ue=["href","onClick"],qe={class:"w-full"},Je={class:"pb-4 font-bold text-2xl lg:text-3xl hidden md:block"},Ke={key:0},Qe=["onClick"],We={key:1},Xe={key:2},Ze={class:"pb-2 lg:text-lg"},et={class:"external-link"},tt=["innerHTML"],ot={class:"text-left w-full border-collapse"},st={class:"p-2 font-bold text-sm"},nt={class:"p-2 font-bold text-sm text-center"},lt={class:"p-2 font-bold text-sm text-right"},at={class:"hover:bg-grey-lighter"},it={class:"p-2"},dt=["onClick"],ct={class:"p-2 text-center"},rt={class:"p-2 text-right"},pt=L({props:["slug"],setup(m){const w=S(),l=P(()=>K.find(c=>c.slug===w.routeParams.id)),v=l.value&&l.value.groups.length===1?l.value.groups[0]:null,i=k(v),x=k(null);function u(c){const r=c?[c]:i.value.files,h=window.encodeURIComponent(l.value.folder)+"/"+window.encodeURIComponent(i.value.name)+"/";for(const b of r)b.path=h+b.name;x.value=r}function C(c){}const{t:s,d:_}=V();return(c,r)=>{const h=J,b=q,M=Y("i18n-t"),A=O,F=U,B=De,D=He,R=xe,E=me;return n(),a(y,null,[f(h,{page:t(l)&&t(l).metadata.title},null,8,["page"]),t(l)?p("",!0):(n(),a("div",Re,[g(o(t(s)("not-found"))+" ",1),e("div",Ee,[f(b,{class:"iconify inline-block"})])])),t(l)?(n(),a("div",Te,[e("div",Ie,[e("div",Pe,[e("div",Ye,[Ne,e("img",{class:"absolute left-0 top-0 w-full h-full object-cover",src:t(l).metadata.coverImage},null,8,Ge)]),e("div",Se,[e("h1",Oe,o(t(l).metadata.title),1),e("ul",null,[e("li",null,[f(M,{keypath:"full-season",scope:"global"},{season:H(()=>[g(o(t(s)("seasons."+t(l).metadata.season)),1)]),seasonYear:H(()=>[g(o(t(l).metadata.seasonYear),1)]),_:1})]),e("li",null,o(t(s)("episodes",t(l).metadata.episodes)),1),e("li",null,o(t(s)("formats."+t(l).metadata.format)),1),(n(!0),a(y,null,$(t(l).metadata.externalLinks,d=>(n(),a("li",{key:d.url,class:"lg:text-md"},[e("a",{href:d.url,class:"external-link",onClick:z=>C(d.url)},o(d.site),9,Ue)]))),128)),e("li",null,[f(A,{to:"/contact",class:"external-link"},{default:H(()=>[g(o(t(s)("report-error")),1)]),_:1})])])])])]),e("div",qe,[e("h1",Je,o(t(l).metadata.title),1),t(l).groups.length>1?(n(),a("div",Ke,[(n(!0),a(y,null,$(t(l).groups,d=>(n(),a("button",{key:d.name,class:G(["dark:text-white border-2 py-2 px-4 focus:outline-none rounded text-center mr-2 mb-2",[i.value&&i.value.name===d.name?"bg-indigo-200 border-indigo-300 dark:bg-indigo-500 dark:border-indigo-400":"bg-gray-100 hover:bg-gray-200 border-gray-300 dark:bg-gray-900 dark-hover:bg-gray-800 dark:border-gray-700"]]),onClick:z=>i.value=d},o(d.name),11,Qe))),128))])):p("",!0),i.value?p("",!0):(n(),a("div",We,o(t(s)("select-group")),1)),i.value?(n(),a("div",Xe,[e("div",Ze,[f(F,{class:"iconify group-stat-icon mr-1"}),g(" "+o(t(s)("languages."+i.value.metadata.language,"?"))+" ",1),f(B,{class:"iconify group-stat-icon mx-1"}),g(" "+o(t(s)("file-count",i.value.files.length))+" ",1),f(D,{class:"iconify group-stat-icon mx-1"}),g(" "+o(t(s)("changed-lines-count",i.value.changedLines))+" ",1),i.value.files.length>1?(n(),a("button",{key:0,onClick:r[0]||(r[0]=d=>u())},[f(R,{class:"iconify group-stat-icon mx-1"}),e("span",et,o(t(s)("download-all")),1)])):p("",!0)]),i.value.metadata.content?(n(),a("div",{key:0,innerHTML:i.value.metadata.content,class:"group-info"},null,8,tt)):p("",!0),e("table",ot,[e("thead",null,[e("tr",null,[e("th",st,o(t(s)("group-list.filename")),1),e("th",nt,o(t(s)("group-list.modified")),1),e("th",lt,o(t(s)("group-list.changedLines")),1)])]),e("tbody",null,[(n(!0),a(y,null,$(i.value.files,d=>(n(),a("tr",at,[e("td",it,[e("button",{onClick:z=>u(d),class:"external-link text-left"},o(d.name),9,dt)]),e("td",ct,o(t(_)(new Date(d.lastModified*1e3))),1),e("td",rt,o(d.changedLines),1)]))),256))])])])):p("",!0)])])):p("",!0),x.value?(n(),N(E,{key:2,files:x.value,folder:t(l).metadata.title,onClose:r[1]||(r[1]=d=>x.value=null)},null,8,["files","folder"])):p("",!0)],64)}}});export{pt as default};
