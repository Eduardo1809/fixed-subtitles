import{d as V,r as $,m as P,u as A,o as n,c as a,e,k as T,t as o,b as t,F as y,l as k,p as L,q as Y,s as j,h as N,a as f,f as g,j as p,w as M,g as S,_ as G,x as O,n as U}from"./src/pages/_default.page.client.ts.a8e617eb.js";import{_ as q}from"./document-unknown.6b9fabd8.js";import{_ as J}from"./Title.e8eb1820.js";import{s as K}from"./data-handler.9d06f651.js";const Q={class:"fixed z-10 inset-0 overflow-y-auto"},W={class:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20"},X={class:"fixed inset-0"},Z={class:"inline-block align-bottom bg-white dark:bg-gray-800 rounded-lg overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",role:"dialog","aria-modal":"true","aria-labelledby":"modal-headline"},ee={class:"px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},te={class:"sm:flex sm:items-start"},oe={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left"},se={class:"text-lg leading-6 font-medium",id:"modal-headline"},ne={key:0,class:"mt-2"},le={class:"text-sm leading-5"},ae={key:1,class:"mt-2"},ie={class:"text-sm leading-5"},de={class:"list-disc list-inside pt-2 text-left"},re={class:"text-sm leading-5"},ce={class:"bg-gray-50 dark:bg-gray-800 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},ue={class:"mt-3 flex w-full rounded-md shadow-sm sm:mt-0 sm:w-auto"},_e=V({props:["files","folder"],emits:["close"],setup(m,{emit:b}){const l=m,v=$([]),i=$(new Set);async function x(s){s.map(h=>h.path);const{downloadRepoFiles:_,zipAndDownload:r}=await L(()=>import("./download-github.02b23d6c.js"),[]),{getFontsFromSubtitle:c}=await L(()=>import("./subtitle-fonts.fdca6eb6.js"),[]);for await(const h of _(s)){const w=c(h.data);for(const C of w)i.value.add(C);v.value.push(h)}r(v.value,l.folder)}P(()=>{x(l.files)});const{t:u}=A();function H(s){return s.reduce((_,r,c)=>_+u("download-modal.font-variant-"+r)+(c===s.length-2?u("download-modal.font-variant-and"):c!==s.length-1?u("download-modal.font-variant-comma"):""),"")}return(s,_)=>(n(),a("div",Q,[e("div",W,[e("div",X,[e("div",{class:"absolute inset-0 bg-gray-500 dark:bg-gray-900 opacity-75",onClick:_[0]||(_[0]=T(r=>s.$emit("close"),["self"]))})]),e("div",Z,[e("div",ee,[e("div",te,[e("div",oe,[e("h3",se,o(t(u)("download-modal.title",m.files.length)),1),v.value.length!==m.files.length?(n(),a("div",ne,[e("p",le,o(t(u)("download-modal.in-progress")),1)])):(n(),a("div",ae,[e("p",ie,o(t(u)("download-modal.fonts",i.value.size)),1),e("ul",de,[(n(!0),a(y,null,k(i.value,r=>(n(),a("li",re,o(r.name)+" ("+o(H(r.variants))+") ",1))),256))])]))])])]),e("div",ce,[e("span",ue,[e("button",{type:"button",class:"inline-flex justify-center w-full rounded-md border border-gray-300 px-4 py-2 bg-white text-base leading-6 font-medium text-gray-700 shadow-sm hover:text-gray-500 focus:outline-none focus:border-blue-300 focus:shadow-outline-blue transition ease-in-out duration-150 sm:text-sm sm:leading-5",onClick:_[1]||(_[1]=r=>s.$emit("close"))},o(v.value.length===m.files.length?t(u)("download-modal.close"):t(u)("download-modal.cancel")),1)])])])])]))}}),me={width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32"},he=e("path",{d:"M26 24v4H6v-4H4v4a2 2 0 0 0 2 2h20a2 2 0 0 0 2-2v-4z",fill:"currentColor"},null,-1),fe=e("path",{d:"M26 14l-1.41-1.41L17 20.17V2h-2v18.17l-7.59-7.58L6 14l10 10l10-10z",fill:"currentColor"},null,-1),pe=[he,fe];function ge(m,b){return n(),a("svg",me,pe)}var ve={name:"carbon-download",render:ge};const xe={width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32"},we=e("path",{d:"M26 20h-6v-2h6z",fill:"currentColor"},null,-1),be=e("path",{d:"M30 28h-6v-2h6z",fill:"currentColor"},null,-1),ye=e("path",{d:"M28 24h-6v-2h6z",fill:"currentColor"},null,-1),ke=e("path",{d:"M17.003 20a4.895 4.895 0 0 0-2.404-4.173L22 3l-1.73-1l-7.577 13.126a5.699 5.699 0 0 0-5.243 1.503C3.706 20.24 3.996 28.682 4.01 29.04a1 1 0 0 0 1 .96h14.991a1 1 0 0 0 .6-1.8c-3.54-2.656-3.598-8.146-3.598-8.2zm-5.073-3.003A3.11 3.11 0 0 1 15.004 20c0 .038.002.208.017.469l-5.9-2.624a3.8 3.8 0 0 1 2.809-.848zM15.45 28A5.2 5.2 0 0 1 14 25h-2a6.5 6.5 0 0 0 .968 3h-2.223A16.617 16.617 0 0 1 10 24H8a17.342 17.342 0 0 0 .665 4H6c.031-1.836.29-5.892 1.803-8.553l7.533 3.35A13.025 13.025 0 0 0 17.596 28z",fill:"currentColor"},null,-1),$e=[we,be,ye,ke];function Ce(m,b){return n(),a("svg",xe,$e)}var Me={name:"carbon-clean",render:Ce};const He={width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32"},ze=e("path",{d:"M6.76 6l.45.89L7.76 8H12v5H4V6h2.76m.62-2H3a1 1 0 0 0-1 1v9a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1H9l-.72-1.45a1 1 0 0 0-.9-.55z",fill:"currentColor"},null,-1),Le=e("path",{d:"M22.76 6l.45.89l.55 1.11H28v5h-8V6h2.76m.62-2H19a1 1 0 0 0-1 1v9a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1h-4l-.72-1.45a1 1 0 0 0-.9-.55z",fill:"currentColor"},null,-1),Ve=e("path",{d:"M6.76 19l.45.89l.55 1.11H12v5H4v-7h2.76m.62-2H3a1 1 0 0 0-1 1v9a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1v-7a1 1 0 0 0-1-1H9l-.72-1.45a1 1 0 0 0-.9-.55z",fill:"currentColor"},null,-1),Ae=e("path",{d:"M22.76 19l.45.89l.55 1.11H28v5h-8v-7h2.76m.62-2H19a1 1 0 0 0-1 1v9a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1v-7a1 1 0 0 0-1-1h-4l-.72-1.45a1 1 0 0 0-.9-.55z",fill:"currentColor"},null,-1),Fe=[ze,Le,Ve,Ae];function Re(m,b){return n(),a("svg",He,Fe)}var Be={name:"carbon-categories",render:Re};const De={key:0,class:"dark:text-white text-center text-2xl py-20"},Ee={class:"text-8xl mt-2"},Ie={key:1,class:"container px-6 mx-auto flex flex-col md:flex-row"},Pe={class:"w-full md:w-1/3 lg:w-1/5 mr-6"},Te={class:"flex md:flex-col"},Ye={class:"relative mb-3 w-2/5 md:w-full"},je=e("div",{class:"aspect-ratio-9-14"},null,-1),Ne=["src"],Se={class:"w-full ml-3 md:ml-0 lg:text-lg"},Ge={class:"leading-8 font-bold text-xl md:hidden"},Oe=["href","onClick"],Ue={class:"w-full"},qe={class:"pb-4 font-bold text-2xl lg:text-3xl hidden md:block"},Je={key:0},Ke=["onClick"],Qe={key:1},We={key:2},Xe={class:"pb-2 lg:text-lg"},Ze={class:"external-link"},et=["innerHTML"],tt={class:"text-left w-full border-collapse"},ot={class:"p-2 font-bold text-sm"},st={class:"p-2 font-bold text-sm text-center"},nt={class:"p-2 font-bold text-sm text-right"},lt={class:"hover:bg-grey-lighter"},at={class:"p-2"},it=["onClick"],dt={class:"p-2 text-center"},rt={class:"p-2 text-right"},ht=V({props:["slug"],setup(m){const b=Y(),l=j(()=>K.find(r=>r.slug===b.routeParams.id)),v=l.value&&l.value.groups.length===1?l.value.groups[0]:null,i=$(v),x=$(null);function u(r){const c=r?[r]:i.value.files,h=window.encodeURIComponent(l.value.folder)+"/"+window.encodeURIComponent(i.value.name)+"/";for(const w of c)w.path=h+w.name;x.value=c}function H(r){}const{t:s,d:_}=A();return(r,c)=>{const h=J,w=q,C=N("i18n-t"),F=G,R=O,B=Be,D=Me,E=ve,I=_e;return n(),a(y,null,[f(h,{page:t(l)&&t(l).metadata.title},null,8,["page"]),t(l)?p("",!0):(n(),a("div",De,[g(o(t(s)("not-found"))+" ",1),e("div",Ee,[f(w,{class:"iconify inline-block"})])])),t(l)?(n(),a("div",Ie,[e("div",Pe,[e("div",Te,[e("div",Ye,[je,e("img",{class:"absolute left-0 top-0 w-full h-full object-cover",src:t(l).metadata.coverImage},null,8,Ne)]),e("div",Se,[e("h1",Ge,o(t(l).metadata.title),1),e("ul",null,[e("li",null,[f(C,{keypath:"full-season",scope:"global"},{season:M(()=>[g(o(t(s)("seasons."+t(l).metadata.season)),1)]),seasonYear:M(()=>[g(o(t(l).metadata.seasonYear),1)]),_:1})]),e("li",null,o(t(s)("episodes",t(l).metadata.episodes)),1),e("li",null,o(t(s)("formats."+t(l).metadata.format)),1),(n(!0),a(y,null,k(t(l).metadata.externalLinks,d=>(n(),a("li",{key:d.url,class:"lg:text-md"},[e("a",{href:d.url,class:"external-link",onClick:z=>(d.url,void 0)},o(d.site),9,Oe)]))),128)),e("li",null,[f(F,{to:"/contact",class:"external-link"},{default:M(()=>[g(o(t(s)("report-error")),1)]),_:1})])])])])]),e("div",Ue,[e("h1",qe,o(t(l).metadata.title),1),t(l).groups.length>1?(n(),a("div",Je,[(n(!0),a(y,null,k(t(l).groups,d=>(n(),a("button",{key:d.name,class:U(["dark:text-white border-2 py-2 px-4 focus:outline-none rounded text-center mr-2 mb-2",[i.value&&i.value.name===d.name?"bg-indigo-200 border-indigo-300 dark:bg-indigo-500 dark:border-indigo-400":"bg-gray-100 hover:bg-gray-200 border-gray-300 dark:bg-gray-900 dark-hover:bg-gray-800 dark:border-gray-700"]]),onClick:z=>i.value=d},o(d.name),11,Ke))),128))])):p("",!0),i.value?p("",!0):(n(),a("div",Qe,o(t(s)("select-group")),1)),i.value?(n(),a("div",We,[e("div",Xe,[f(R,{class:"iconify group-stat-icon mr-1"}),g(" "+o(t(s)("languages."+i.value.metadata.language,"?"))+" ",1),f(B,{class:"iconify group-stat-icon mx-1"}),g(" "+o(t(s)("file-count",i.value.files.length))+" ",1),f(D,{class:"iconify group-stat-icon mx-1"}),g(" "+o(t(s)("changed-lines-count",i.value.changedLines))+" ",1),i.value.files.length>1?(n(),a("button",{key:0,onClick:c[0]||(c[0]=d=>u())},[f(E,{class:"iconify group-stat-icon mx-1"}),e("span",Ze,o(t(s)("download-all")),1)])):p("",!0)]),i.value.metadata.content?(n(),a("div",{key:0,innerHTML:i.value.metadata.content,class:"group-info"},null,8,et)):p("",!0),e("table",tt,[e("thead",null,[e("tr",null,[e("th",ot,o(t(s)("group-list.filename")),1),e("th",st,o(t(s)("group-list.modified")),1),e("th",nt,o(t(s)("group-list.changedLines")),1)])]),e("tbody",null,[(n(!0),a(y,null,k(i.value.files,d=>(n(),a("tr",lt,[e("td",at,[e("button",{onClick:z=>u(d),class:"external-link text-left"},o(d.name),9,it)]),e("td",dt,o(t(_)(new Date(d.lastModified*1e3))),1),e("td",rt,o(d.changedLines),1)]))),256))])])])):p("",!0)])])):p("",!0),x.value?(n(),S(I,{key:2,files:x.value,folder:t(l).metadata.title,onClose:c[1]||(c[1]=d=>x.value=null)},null,8,["files","folder"])):p("",!0)],64)}}});export{ht as default};
